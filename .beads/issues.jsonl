{"id":"evodb-04r","title":"TDD: Encapsulate V8 stack trace capture","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-20T17:09:56.07856-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-20T17:49:16.680192-06:00","closed_at":"2026-01-20T17:49:16.680192-06:00","close_reason":"Closed","external_ref":"gh-102"}
{"id":"evodb-0q8","title":"TDD: Add lance-reader package tests (21% coverage)","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-20T13:58:31.457236-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-20T16:49:22.415388-06:00","closed_at":"2026-01-20T16:49:22.415388-06:00","close_reason":"Closed","external_ref":"gh-60"}
{"id":"evodb-0sx","title":"TDD: Add JSON parse error handling in lakehouse","status":"closed","priority":1,"issue_type":"bug","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-20T17:09:36.360751-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-20T17:49:16.667962-06:00","closed_at":"2026-01-20T17:49:16.667962-06:00","close_reason":"Closed","external_ref":"gh-103"}
{"id":"evodb-16m","title":"TDD: Fix CDC sourceCursors race condition","status":"closed","priority":1,"issue_type":"bug","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-20T13:57:34.83366-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-20T16:55:12.132444-06:00","closed_at":"2026-01-20T16:55:12.132444-06:00","close_reason":"Closed","external_ref":"gh-61"}
{"id":"evodb-187","title":"Add chaos testing suite","description":"TDD: Only 1 chaos test file exists. Add chaos tests for network failures, timeouts, and partial writes.","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-20T18:18:06.437653-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-20T18:54:46.031781-06:00","closed_at":"2026-01-20T18:54:46.031781-06:00","close_reason":"Closed","external_ref":"gh-128"}
{"id":"evodb-1kq","title":"TDD: Add Step type discriminator guards","status":"closed","priority":1,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-20T13:58:07.350593-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-20T16:55:11.949749-06:00","closed_at":"2026-01-20T16:55:11.949749-06:00","close_reason":"Closed","external_ref":"gh-62"}
{"id":"evodb-1z9","title":"TDD: Extract magic numbers to config constants","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-20T17:10:00.224989-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-20T17:49:16.676871-06:00","closed_at":"2026-01-20T17:49:16.676871-06:00","close_reason":"Closed","external_ref":"gh-104"}
{"id":"evodb-2nr","title":"TDD: Fix unchecked array access patterns","description":"core/src/shred.ts:195-210 - Unsafe type casts without validation. Add proper type guards before assertions.","status":"closed","priority":0,"issue_type":"bug","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-20T13:08:53.025993-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-20T15:57:56.426478-06:00","closed_at":"2026-01-20T15:57:56.426478-06:00","close_reason":"Closed","external_ref":"gh-32"}
{"id":"evodb-2pw","title":"TDD: Split core package into submodules","status":"closed","priority":1,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-20T13:57:40.132781-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-20T16:55:12.102451-06:00","closed_at":"2026-01-20T16:55:12.102451-06:00","close_reason":"Closed","external_ref":"gh-63"}
{"id":"evodb-385","title":"Writer atomicity unit tests","description":"TDD: Writer atomicity is untested. Add unit tests verifying atomic commit/rollback behavior under failure conditions.","status":"closed","priority":1,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-20T18:18:03.162136-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-20T18:54:46.022176-06:00","closed_at":"2026-01-20T18:54:46.022176-06:00","close_reason":"Closed","external_ref":"gh-129"}
{"id":"evodb-3ju","title":"Reduce branded types from 6 to 2-3 essential","description":"## Problem\n6 branded types (BlockId, SnapshotId, BatchId, WalId, SchemaId, TableId) with validators add ~20KB.\n\n## TDD Approach\n1. Audit usage of each branded type across codebase\n2. Keep only BlockId and TableId (most critical)\n3. Remove validators - trust TypeScript at compile time\n4. Update type definitions\n5. Verify tests pass\n\n## Expected Impact\n- ~15KB bundle reduction\n- Simpler type system\n\n## Keep\n- BlockId (critical for storage)\n- TableId (critical for queries)\n\n## Remove or simplify\n- SnapshotId → string\n- BatchId → string\n- WalId → string\n- SchemaId → number\n- All isValid*() validators","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-21T12:04:21.421674-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-21T12:37:34.460454-06:00","closed_at":"2026-01-21T12:37:34.460454-06:00","close_reason":"Closed"}
{"id":"evodb-3vb","title":"TDD: Integrate zone maps into query planner","status":"closed","priority":1,"issue_type":"feature","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-20T13:57:53.835106-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-20T16:55:12.011284-06:00","closed_at":"2026-01-20T16:55:12.011284-06:00","close_reason":"Closed","external_ref":"gh-64"}
{"id":"evodb-3w2","title":"TDD: Replace Record\u003cstring,unknown\u003e with specific types","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-20T13:59:13.024695-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-20T16:49:22.156167-06:00","closed_at":"2026-01-20T16:49:22.156167-06:00","close_reason":"Closed"}
{"id":"evodb-3zm","title":"Simplify query-engine-selector.ts to basic heuristics","description":"## Problem\nquery-engine-selector.ts (497 lines) implements complex query analysis that could be 100 lines.\n\n## TDD Approach\n1. Write tests for essential selection logic\n2. Replace complexity analysis with simple heuristics\n3. Remove enum-based complexity levels\n4. Verify correct engine selection\n\n## Expected Impact\n- ~400 lines removed\n- ~10KB bundle reduction\n\n## Simplify From\n```typescript\nanalyzeQueryComplexity() // Complex scoring\nwouldBenefitFromZoneMaps() // Detailed analysis\nwouldBenefitFromBloomFilters() // More analysis\n```\n\n## Simplify To\n```typescript\nfunction selectEngine(query) {\n  if (query.predicates.length \u003e 5) return 'query';\n  if (query.aggregates.length \u003e 0) return 'query';\n  return 'reader';\n}\n```","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-21T12:05:30.746023-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-21T12:27:45.677596-06:00","closed_at":"2026-01-21T12:27:45.677596-06:00","close_reason":"Closed"}
{"id":"evodb-409","title":"TDD: Add key prefix path traversal validation","status":"closed","priority":1,"issue_type":"bug","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-20T17:09:38.030559-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-20T17:49:16.664236-06:00","closed_at":"2026-01-20T17:49:16.664236-06:00","close_reason":"Closed","external_ref":"gh-105"}
{"id":"evodb-47z","title":"TDD: Enable vitest coverage reporting","status":"closed","priority":0,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-20T13:57:18.127375-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-20T14:04:55.100167-06:00","closed_at":"2026-01-20T14:04:55.100167-06:00","close_reason":"Closed"}
{"id":"evodb-4dt","title":"TDD: Fix string intern pool memory leak","description":"core/src/encode.ts:14-25 - Pool clears entirely at 10K causing cache thrashing. Implement LRU eviction.","status":"closed","priority":0,"issue_type":"bug","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-20T13:08:53.880357-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-20T15:57:56.39865-06:00","closed_at":"2026-01-20T15:57:56.39865-06:00","close_reason":"Closed","external_ref":"gh-33"}
{"id":"evodb-4ll","title":"TDD: Type R2 mock options properly","status":"closed","priority":1,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-20T13:58:03.110663-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-20T14:13:12.500902-06:00","closed_at":"2026-01-20T14:13:12.500902-06:00","close_reason":"Closed"}
{"id":"evodb-4md","title":"TDD: Add structured logging framework","status":"closed","priority":1,"issue_type":"feature","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-20T13:57:50.534258-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-20T14:23:01.113211-06:00","closed_at":"2026-01-20T14:23:01.113211-06:00","close_reason":"Closed"}
{"id":"evodb-4p7","title":"TDD: Fix RPC pendingBatches unbounded Map growth","status":"closed","priority":0,"issue_type":"bug","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-20T17:09:08.059976-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-20T17:27:33.838894-06:00","closed_at":"2026-01-20T17:27:33.838894-06:00","close_reason":"Closed"}
{"id":"evodb-4rv","title":"TDD: Extract mock data from production code","description":"query/src/engine.ts:1220-1445 - 1000+ lines of mock data in production QueryEngine. Move to test fixtures.","status":"closed","priority":1,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-20T13:09:03.15985-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-20T16:23:39.485903-06:00","closed_at":"2026-01-20T16:23:39.485903-06:00","close_reason":"Closed","external_ref":"gh-34"}
{"id":"evodb-4s8","title":"Rename tests to follow .unit.test.ts convention","description":"TDD: 90% of tests don't follow naming convention. Rename test files to use .unit.test.ts or .integration.test.ts suffixes for proper stratification.","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-20T18:18:05.345086-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-20T18:54:46.036661-06:00","closed_at":"2026-01-20T18:54:46.036661-06:00","close_reason":"Closed","external_ref":"gh-130"}
{"id":"evodb-4tq","title":"TDD: Add observability metrics export (Prometheus)","status":"closed","priority":0,"issue_type":"feature","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-20T17:09:10.511699-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-20T17:27:33.896926-06:00","closed_at":"2026-01-20T17:27:33.896926-06:00","close_reason":"Closed"}
{"id":"evodb-4v3","title":"Type assertions in encoding need runtime validation","description":"TDD: encode.ts uses type assertions without runtime validation. Add type guards to validate data types at runtime before encoding.","status":"closed","priority":0,"issue_type":"bug","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-20T18:17:58.777731-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-20T18:23:12.623215-06:00","closed_at":"2026-01-20T18:23:12.623218-06:00"}
{"id":"evodb-505","title":"TDD: Add atomic CDC buffer LSN updates","status":"closed","priority":1,"issue_type":"bug","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-20T17:09:31.023636-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-20T17:36:42.909765-06:00","closed_at":"2026-01-20T17:36:42.909765-06:00","close_reason":"Closed"}
{"id":"evodb-5iz","title":"TDD: Fix lance-reader 4 failing filter tests","status":"closed","priority":0,"issue_type":"bug","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-20T13:57:12.907654-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-20T16:55:11.918844-06:00","closed_at":"2026-01-20T16:55:11.918844-06:00","close_reason":"Closed","external_ref":"gh-69"}
{"id":"evodb-5xa","title":"TDD: Add RPC event handler error logging","status":"closed","priority":1,"issue_type":"bug","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-20T17:09:32.308686-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-20T17:49:16.675188-06:00","closed_at":"2026-01-20T17:49:16.675188-06:00","close_reason":"Closed","external_ref":"gh-109"}
{"id":"evodb-5zo","title":"TDD: Add error codes enum to StorageError","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-20T17:10:01.73725-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-20T17:48:04.524128-06:00","closed_at":"2026-01-20T17:48:04.524128-06:00","close_reason":"Closed"}
{"id":"evodb-6cm","title":"TDD: Bound routing cache with LRU eviction","description":"writer/shard-router.ts - routingCache grows unboundedly. Implement LRU cache with max 10000 entries.","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-20T13:10:06.068165-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-20T16:49:22.476622-06:00","closed_at":"2026-01-20T16:49:22.476622-06:00","close_reason":"Closed","external_ref":"gh-35"}
{"id":"evodb-6hn","title":"Pre-compile column accessors for filter evaluation","description":"## Problem\nEach filter evaluation calls getNestedValue() which does string parsing and regex validation per row.\n\n## TDD Approach\n1. Write benchmark comparing compiled vs interpreted accessors\n2. Implement accessor compilation that runs once per query\n3. Use compiled accessors in filter loop\n4. Verify performance improvement\n\n## Expected Impact\n- 40-60% query speedup\n- Eliminate 500K regex ops for 100K rows × 5 filters\n\n## Current Code (query-ops.ts:393-412)\n```typescript\nfor (const filter of filters) {\n  validateColumnName(filter.column);  // Per row!\n  const value = getNestedValue(row, filter.column);  // String parsing per row\n}\n```\n\n## Fix\n```typescript\n// Compile once\nconst accessors = filters.map(f =\u003e ({\n  get: compileAccessor(f.column),\n  filter: f\n}));\n\n// Use compiled\nfor (const row of rows) {\n  for (const {get, filter} of accessors) {\n    if (!matches(get(row), filter)) return false;\n  }\n}\n```","status":"closed","priority":1,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-21T12:04:39.575884-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-21T12:21:40.660347-06:00","closed_at":"2026-01-21T12:21:40.660347-06:00","close_reason":"Closed"}
{"id":"evodb-6mx","title":"Merge @evodb/reader into @evodb/query","description":"## Problem\nTwo separate query engines (@evodb/reader and @evodb/query) duplicate 80% of logic. QueryExecutorAdapter bridges them with boilerplate.\n\n## TDD Approach\n1. Write integration tests covering both engines' functionality\n2. Merge reader logic into query package\n3. Remove QueryExecutorAdapter\n4. Verify single unified API works\n5. Remove @evodb/reader package\n\n## Expected Impact\n- 30-50KB bundle reduction\n- Simpler mental model for users\n- Less type duplication\n\n## Files\n- reader/src/* → query/src/\n- Remove reader package entirely","status":"closed","priority":2,"issue_type":"feature","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-21T12:03:24.760331-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-21T17:14:37.235363-06:00","closed_at":"2026-01-21T17:14:37.235363-06:00","close_reason":"Merge already complete. @evodb/reader is now a deprecated wrapper that re-exports from @evodb/query. Analysis shows: (1) reader/src/index.ts re-exports everything from @evodb/query with backward-compatible type aliases, (2) @evodb/query contains both SimpleQueryEngine (former reader) and full QueryEngine, (3) shared code (evaluateFilter, sortRows, computeAggregations) moved to @evodb/core, (4) QueryExecutorAdapter bridges both engines. Remaining cleanup: legacy files in reader/src (types.ts, validation.ts, cache.ts) are unused and can be deleted. No code changes needed - merge is architecturally complete."}
{"id":"evodb-6n1","title":"TDD: Add atomic flush for Writer+Manifest","status":"closed","priority":0,"issue_type":"bug","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-20T13:57:16.246936-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-20T14:04:48.069312-06:00","closed_at":"2026-01-20T14:04:48.069312-06:00","close_reason":"Closed"}
{"id":"evodb-6zh","title":"Move chaos-testing.ts to test-utils package","description":"## Problem\nchaos-testing.ts (1,345 lines) is test-only code but included in production @evodb/core bundle.\n\n## TDD Approach\n1. Write test verifying chaos-testing exports work from test-utils\n2. Move file to @evodb/test-utils\n3. Update imports in tests\n4. Verify core bundle no longer includes chaos code\n\n## Expected Impact\n- 20-30KB gzipped reduction from core bundle\n\n## Files\n- core/src/chaos-testing.ts → test-utils/src/chaos-testing.ts\n- core/src/storage/index.ts (remove re-export)","status":"closed","priority":1,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-21T12:03:18.521087-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-21T12:23:57.880584-06:00","closed_at":"2026-01-21T12:23:57.880584-06:00","close_reason":"Closed"}
{"id":"evodb-719","title":"TDD: Add type guards before type assertions","description":"Replace 'as unknown[]' and 'as Record\u003cstring,unknown\u003e' with proper type guards throughout codebase.","status":"closed","priority":1,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-20T13:09:08.652257-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-20T16:23:39.456809-06:00","closed_at":"2026-01-20T16:23:39.456809-06:00","close_reason":"Closed","external_ref":"gh-36"}
{"id":"evodb-73e","title":"TDD: Add cache invalidation hooks","description":"Edge cache has no invalidation tied to CDC commits. Add hooks to invalidate stale data on writes.","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-20T13:10:07.877589-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-20T13:32:02.466932-06:00","closed_at":"2026-01-20T13:32:02.466932-06:00","close_reason":"Closed"}
{"id":"evodb-75n","title":"TDD: Add RPC package tests (23% coverage)","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-20T13:58:41.937841-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-20T16:49:22.35619-06:00","closed_at":"2026-01-20T16:49:22.35619-06:00","close_reason":"Closed"}
{"id":"evodb-7d8","title":"Simplify circuit-breaker.ts for edge execution model","description":"## Problem\ncircuit-breaker.ts (497 lines) implements full state machine pattern that may be overkill for Cloudflare Workers' ephemeral model.\n\n## TDD Approach\n1. Analyze actual circuit breaker usage patterns\n2. Implement simplified failure counter + exponential backoff\n3. Remove full state machine if not needed\n4. Verify functionality preserved\n\n## Expected Impact\n- Reduce from 497 to ~150 lines\n- ~8KB bundle reduction\n\n## Current\nFull CLOSED → OPEN → HALF_OPEN state machine with MonotonicTimeProvider abstraction.\n\n## Simplified\n```typescript\nclass SimpleCircuitBreaker {\n  private failures = 0;\n  private lastFailure = 0;\n  \n  async call\u003cT\u003e(fn: () =\u003e Promise\u003cT\u003e): Promise\u003cT\u003e {\n    if (this.isOpen()) throw new CircuitOpenError();\n    try {\n      const result = await fn();\n      this.failures = 0;\n      return result;\n    } catch (e) {\n      this.failures++;\n      this.lastFailure = Date.now();\n      throw e;\n    }\n  }\n}\n```","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-21T12:05:32.491867-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-21T12:29:06.240831-06:00","closed_at":"2026-01-21T12:29:06.240831-06:00","close_reason":"Closed"}
{"id":"evodb-7e4","title":"TDD: Add exhaustiveness checks in switch statements","description":"reader/src/index.ts:375-407 - evaluateFilter switch has silent default. Add never case or throw for unhandled types.","status":"closed","priority":1,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-20T13:09:45.380566-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-20T13:25:06.978637-06:00","closed_at":"2026-01-20T13:25:06.978637-06:00","close_reason":"Closed"}
{"id":"evodb-7i9","title":"TDD: Add lakehouse package tests (21% coverage)","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-20T13:58:24.790895-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-20T16:49:22.44582-06:00","closed_at":"2026-01-20T16:49:22.44582-06:00","close_reason":"Closed"}
{"id":"evodb-80q","title":"Make sparse null bitmap the default representation","description":"## Problem\nDense boolean arrays are still default for null bitmaps. SparseNullSet exists but requires opt-in.\n\n## TDD Approach\n1. Write tests for automatic sparse/dense selection\n2. Implement heuristic: if null rate \u003c 10%, use SparseNullSet\n3. Update unpackBits() to return appropriate representation\n4. Verify memory savings\n\n## Expected Impact\n- 100KB saved per 100K elements when sparse\n- Automatic optimization\n\n## Implementation\n```typescript\nfunction unpackBits(bytes: Uint8Array, count: number) {\n  const nullCount = countSetBits(bytes, count);\n  if (nullCount / count \u003c 0.1) {\n    return SparseNullSet.fromBitmap(bytes, count);\n  }\n  return denseUnpack(bytes, count);\n}\n```","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-21T12:04:33.761648-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-21T12:56:55.766833-06:00","closed_at":"2026-01-21T12:56:55.766833-06:00","close_reason":"Closed"}
{"id":"evodb-8ee","title":"Add sideEffects: false to all packages","description":"## Problem\nOnly 2 of 13 packages declare sideEffects: false. Bundlers can't fully eliminate unused code.\n\n## TDD Approach\n1. Write test that verifies all package.json files have sideEffects: false\n2. Add the field to all packages\n3. Verify tree-shaking works with sample consumer\n\n## Expected Impact\n- 10-20% additional bundle reduction for consumers\n- Better tree-shaking support\n\n## Implementation\nAdd to each package.json:\n```json\n\"sideEffects\": false\n```","status":"closed","priority":0,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-21T12:03:15.806434-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-21T12:08:40.271764-06:00","closed_at":"2026-01-21T12:08:40.271764-06:00","close_reason":"Closed"}
{"id":"evodb-8mb","title":"TDD: Add subrequest budget tracking with clear errors","status":"closed","priority":0,"issue_type":"bug","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-20T17:09:06.744007-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-20T17:49:16.656803-06:00","closed_at":"2026-01-20T17:49:16.656803-06:00","close_reason":"Closed","external_ref":"gh-111"}
{"id":"evodb-95e","title":"TDD: Add vitest project stratification (unit/integration/e2e)","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-20T17:09:53.036517-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-20T17:49:16.68336-06:00","closed_at":"2026-01-20T17:49:16.68336-06:00","close_reason":"Closed","external_ref":"gh-112"}
{"id":"evodb-988","title":"TDD: Fix dependency references (file: to workspace:*)","description":"query/package.json and benchmark/package.json use file:../ instead of workspace:*. Causes build/publishing issues.","status":"closed","priority":1,"issue_type":"bug","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-20T13:09:20.823419-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-20T13:20:51.081991-06:00","closed_at":"2026-01-20T13:20:51.081991-06:00","close_reason":"Closed"}
{"id":"evodb-9ba","title":"Add manifest versioning support","description":"TDD: No manifest versioning for schema evolution. Add version field and migration support to manifest format.","status":"closed","priority":1,"issue_type":"feature","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-20T18:18:01.981587-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-20T18:27:54.10693-06:00","closed_at":"2026-01-20T18:27:54.106932-06:00"}
{"id":"evodb-9gs","title":"TDD: Decompose writer monolith with strategy pattern","description":"writer package has 5600+ LOC. Extract buffer manager, R2 writer, compactor into separate strategy implementations.","status":"closed","priority":1,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-20T13:09:17.938767-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-20T13:17:28.456785-06:00","closed_at":"2026-01-20T13:17:28.456785-06:00","close_reason":"Closed"}
{"id":"evodb-9ld","title":"Extract logging.ts to optional @evodb/observability plugin","description":"## Problem\nlogging.ts (501 lines, ~12KB) provides structured logging but defaults to noop anyway.\n\n## TDD Approach\n1. Write tests for logging in @evodb/observability\n2. Move logging.ts to observability package\n3. Keep minimal Logger interface in core\n4. Verify core bundle reduction\n\n## Expected Impact\n- ~12KB reduction from core bundle\n\n## Implementation\n- @evodb/observability/logging entry point\n- Core keeps 20-line Logger interface\n- Plugin provides JSON formatter, child loggers, etc.","status":"closed","priority":1,"issue_type":"feature","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-21T12:03:23.100813-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-21T12:31:15.694918-06:00","closed_at":"2026-01-21T12:31:15.694918-06:00","close_reason":"Closed","dependencies":[{"issue_id":"evodb-9ld","depends_on_id":"evodb-cpx","type":"blocks","created_at":"2026-01-21T12:05:47.331815-06:00","created_by":"Nathan Clevenger"}]}
{"id":"evodb-9s8","title":"Create focused entry points instead of barrel exports","description":"## Problem\nRoot index.ts uses 'export *' from 18 modules. Users importing from @evodb/core get 460KB when they may only need 8KB.\n\n## TDD Approach\n1. Write tests verifying each entry point exports correct subset\n2. Create focused entry points in package.json exports map\n3. Document recommended imports in README\n4. Verify tree-shaking works with focused imports\n\n## Expected Impact\n- 90% bundle reduction for minimal consumers\n- Better developer experience\n\n## Implementation\n```json\n{\n  \"exports\": {\n    \".\": \"./dist/index.js\",\n    \"./types\": \"./dist/types/index.js\",\n    \"./encoding\": \"./dist/encoding/index.js\",\n    \"./shredding\": \"./dist/shred.js\",\n    \"./query\": \"./dist/query-ops.js\",\n    \"./storage\": \"./dist/storage/index.js\"\n  }\n}\n```","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-21T12:04:14.43387-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-21T12:45:46.504-06:00","closed_at":"2026-01-21T12:45:46.504-06:00","close_reason":"Closed"}
{"id":"evodb-9t3","title":"TDD: Complete RPC idempotency/deduplication","status":"closed","priority":1,"issue_type":"bug","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-20T13:57:36.211104-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-20T14:09:54.263874-06:00","closed_at":"2026-01-20T14:09:54.263874-06:00","close_reason":"Closed"}
{"id":"evodb-9t6","title":"TDD: Add R2 circuit breakers","status":"closed","priority":2,"issue_type":"feature","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-20T13:59:18.745185-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-20T16:49:22.127139-06:00","closed_at":"2026-01-20T16:49:22.127139-06:00","close_reason":"Closed"}
{"id":"evodb-a0q","title":"TDD: Add corrupted block error handling","status":"closed","priority":1,"issue_type":"bug","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-20T13:57:47.186813-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-20T16:55:12.040975-06:00","closed_at":"2026-01-20T16:55:12.040975-06:00","close_reason":"Closed","external_ref":"gh-75"}
{"id":"evodb-a2x","title":"Implement lazy bitmap unpacking with iterator","description":"## Problem\nunpackBits() always creates full boolean[] array even when only checking a few values.\n\n## TDD Approach\n1. Write benchmark for sparse bitmap access patterns\n2. Implement lazy iterator that reads bits on demand\n3. Keep eager unpack for dense access patterns\n4. Verify memory reduction\n\n## Expected Impact\n- Avoid 100KB allocation for 100K element column\n- Faster for sparse access patterns\n\n## Current Code (encode.ts:335-341)\n```typescript\nexport function unpackBits(bytes: Uint8Array, count: number): boolean[] {\n  const bits: boolean[] = new Array(count);  // Always allocates\n  for (let i = 0; i \u003c count; i++) {\n    bits[i] = (bytes[i \u003e\u003e\u003e 3] \u0026 (1 \u003c\u003c (i \u0026 7))) !== 0;\n  }\n  return bits;\n}\n```\n\n## Fix\n```typescript\nexport function unpackBitsLazy(bytes: Uint8Array, count: number) {\n  return {\n    get(i: number): boolean {\n      return (bytes[i \u003e\u003e\u003e 3] \u0026 (1 \u003c\u003c (i \u0026 7))) !== 0;\n    },\n    toArray(): boolean[] { /* eager if needed */ }\n  };\n}\n```","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-21T12:05:38.025324-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-21T12:37:00.45985-06:00","closed_at":"2026-01-21T12:37:00.45985-06:00","close_reason":"Closed"}
{"id":"evodb-a5p","title":"TDD: Add hard buffer size limits with overflow error","status":"closed","priority":1,"issue_type":"bug","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-20T17:09:33.756513-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-20T17:49:16.673644-06:00","closed_at":"2026-01-20T17:49:16.673644-06:00","close_reason":"Closed","external_ref":"gh-113"}
{"id":"evodb-a7h","title":"Query engine unit test coverage","description":"TDD: Query engine lacks unit tests. Add comprehensive unit tests for query planning, optimization, and execution.","status":"closed","priority":1,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-20T18:18:04.137445-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-20T18:27:49.609734-06:00","closed_at":"2026-01-20T18:27:49.609737-06:00"}
{"id":"evodb-a9o","title":"Exclude source maps from npm distribution","description":"## Problem\nSource maps account for 43% of core package size (556KB). They're included in npm distribution but not needed by consumers.\n\n## TDD Approach\n1. Write test that verifies published package excludes .map files\n2. Add 'files' field to package.json or .npmignore\n3. Verify bundle size reduction\n\n## Expected Impact\n- 556KB reduction from core alone\n- ~800KB+ total across all packages\n\n## Implementation\nAdd to each package.json:\n```json\n\"files\": [\"dist/**/*.js\", \"dist/**/*.d.ts\", \"README.md\"]\n```","status":"closed","priority":0,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-21T12:03:14.453447-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-21T12:08:57.086568-06:00","closed_at":"2026-01-21T12:08:57.086568-06:00","close_reason":"Closed"}
{"id":"evodb-ala","title":"TDD: Consolidate storage interfaces in core","description":"ObjectStorageAdapter defined in both core and lakehouse. Move all storage types to core, re-export from others.","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-20T13:10:08.945735-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-20T13:30:55.109529-06:00","closed_at":"2026-01-20T13:30:55.109529-06:00","close_reason":"Closed"}
{"id":"evodb-amq","title":"TDD: Add buffer config validation bounds","status":"closed","priority":1,"issue_type":"bug","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-20T13:57:33.261654-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-20T16:55:12.162625-06:00","closed_at":"2026-01-20T16:55:12.162625-06:00","close_reason":"Closed","external_ref":"gh-76"}
{"id":"evodb-ax7","title":"TDD: Document type assertions in performance paths","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-20T17:09:54.397636-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-20T17:49:16.681752-06:00","closed_at":"2026-01-20T17:49:16.681752-06:00","close_reason":"Closed","external_ref":"gh-114"}
{"id":"evodb-azl","title":"TDD: Add async/await test patterns","description":"0 async tests in main suite. Add async tests for R2 operations, query execution, CDC pipeline.","status":"closed","priority":1,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-20T13:09:31.046599-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-20T13:38:16.419064-06:00","closed_at":"2026-01-20T13:38:16.419064-06:00","close_reason":"Closed"}
{"id":"evodb-bka","title":"P2 Code Quality: Consistency \u0026 Testing","description":"Epic for P2 code quality improvements: workspace dependencies, test utilities, E2E integration, and documentation alignment.","status":"closed","priority":2,"issue_type":"epic","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-20T10:27:45.292472-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-20T11:05:24.24988-06:00","closed_at":"2026-01-20T11:05:24.24988-06:00","close_reason":"Closed"}
{"id":"evodb-bka.1","title":"Standardize workspace dependencies to workspace:*","description":"Query and benchmark packages use file:../core instead of workspace:*.\n\nThis causes version resolution inconsistencies and breaks pnpm workspace linking.\n\nUpdate all internal dependencies to use workspace:* syntax.","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-20T10:29:52.350283-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-20T10:35:25.702079-06:00","closed_at":"2026-01-20T10:35:25.702079-06:00","close_reason":"Closed","dependencies":[{"issue_id":"evodb-bka.1","depends_on_id":"evodb-bka","type":"parent-child","created_at":"2026-01-20T10:29:52.351072-06:00","created_by":"Nathan Clevenger"}]}
{"id":"evodb-bka.2","title":"Extract mock data to test utilities package","description":"Query engine has ~200 lines of mock data generation in production code (initializeMockData).\n\nExtract to a separate @evodb/test-utils package or test fixtures directory.","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-20T10:29:58.909741-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-20T10:47:09.386895-06:00","closed_at":"2026-01-20T10:47:09.386895-06:00","close_reason":"Closed","dependencies":[{"issue_id":"evodb-bka.2","depends_on_id":"evodb-bka","type":"parent-child","created_at":"2026-01-20T10:29:58.910607-06:00","created_by":"Nathan Clevenger"}]}
{"id":"evodb-bka.3","title":"Add E2E integration test with real R2","description":"No complete 'write data -\u003e query data' example that actually works.\n\nCreate E2E test that:\n1. Writes CDC entries via writer\n2. Flushes to R2 (or miniflare mock)\n3. Queries back via reader\n4. Validates round-trip","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-20T10:30:04.930966-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-20T10:40:30.070145-06:00","closed_at":"2026-01-20T10:40:30.070145-06:00","close_reason":"Closed","dependencies":[{"issue_id":"evodb-bka.3","depends_on_id":"evodb-bka","type":"parent-child","created_at":"2026-01-20T10:30:04.931612-06:00","created_by":"Nathan Clevenger"}]}
{"id":"evodb-bka.4","title":"Make snippets-lance import from lance-reader","description":"snippets-lance duplicates vector math from lance-reader:\n- normalizeVector, computeL2Distance duplicated\n- CachedLanceReader doesn't use lance-reader\n\nDRY violation - add proper dependency and imports.","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-20T10:30:11.14332-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-20T10:57:56.26371-06:00","closed_at":"2026-01-20T10:57:56.26371-06:00","close_reason":"Closed","dependencies":[{"issue_id":"evodb-bka.4","depends_on_id":"evodb-bka","type":"parent-child","created_at":"2026-01-20T10:30:11.143943-06:00","created_by":"Nathan Clevenger"}]}
{"id":"evodb-bka.5","title":"Replace magic numbers with named constants","description":"Multiple magic numbers in snippets-lance for binary format sizes.\n\nExtract to named constants for readability and maintainability:\n- Header sizes\n- Offset calculations\n- Buffer sizes","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-20T10:30:15.175353-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-20T10:44:56.629044-06:00","closed_at":"2026-01-20T10:44:56.629044-06:00","close_reason":"Closed","dependencies":[{"issue_id":"evodb-bka.5","depends_on_id":"evodb-bka","type":"parent-child","created_at":"2026-01-20T10:30:15.176005-06:00","created_by":"Nathan Clevenger"}]}
{"id":"evodb-bka.6","title":"Add exhaustiveness check to codegen switch statements","description":"Switch statements in codegen (diff.ts, generator.ts) missing exhaustiveness checks.\n\nAdd assertNever() in default cases to catch unhandled enum values at compile time.","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-20T10:30:19.356286-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-20T11:06:37.647031-06:00","closed_at":"2026-01-20T11:06:37.647031-06:00","close_reason":"Closed","external_ref":"gh-7","dependencies":[{"issue_id":"evodb-bka.6","depends_on_id":"evodb-bka","type":"parent-child","created_at":"2026-01-20T10:30:19.356934-06:00","created_by":"Nathan Clevenger"}]}
{"id":"evodb-bka.7","title":"Add input validation to codegen CLI JSON parsing","description":"CLI in codegen/src/cli.ts parses JSON from files without validation.\n\nMalformed JSON could cause confusing errors. Add proper validation with helpful error messages.","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-20T10:30:22.771411-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-20T10:41:09.358434-06:00","closed_at":"2026-01-20T10:41:09.358434-06:00","close_reason":"Closed","dependencies":[{"issue_id":"evodb-bka.7","depends_on_id":"evodb-bka","type":"parent-child","created_at":"2026-01-20T10:30:22.772008-06:00","created_by":"Nathan Clevenger"}]}
{"id":"evodb-bka.8","title":"Implement actual bloom filter instead of Map simulation","description":"BloomFilterManager in query engine uses Map\u003cstring, Set\u003cstring\u003e\u003e instead of actual bloom filter bit arrays.\n\nImplement proper bloom filter for space efficiency and probabilistic behavior.","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-20T10:30:25.934737-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-20T10:47:08.208649-06:00","closed_at":"2026-01-20T10:47:08.208649-06:00","close_reason":"Closed","dependencies":[{"issue_id":"evodb-bka.8","depends_on_id":"evodb-bka","type":"parent-child","created_at":"2026-01-20T10:30:25.93552-06:00","created_by":"Nathan Clevenger"}]}
{"id":"evodb-bka.9","title":"Define QueryExecutor interface for reader/query unification","description":"reader and query packages both implement query execution but don't share an interface.\n\nDefine QueryExecutor interface in core that both implement for consistency.","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-20T10:30:29.744773-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-20T10:43:06.407675-06:00","closed_at":"2026-01-20T10:43:06.407675-06:00","close_reason":"Closed","dependencies":[{"issue_id":"evodb-bka.9","depends_on_id":"evodb-bka","type":"parent-child","created_at":"2026-01-20T10:30:29.745313-06:00","created_by":"Nathan Clevenger"}]}
{"id":"evodb-bkw","title":"TDD: Reduce non-null assertions in production","description":"119 occurrences of ! in 24 files. Replace with explicit null checks in writer/sharded-parent-do.ts and reader/index.ts.","status":"closed","priority":1,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-20T13:09:41.837366-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-20T16:23:39.372276-06:00","closed_at":"2026-01-20T16:23:39.372276-06:00","close_reason":"Closed","external_ref":"gh-43"}
{"id":"evodb-bm6","title":"TDD: Add cross-package integration tests","status":"closed","priority":1,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-20T17:09:24.063159-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-20T17:36:42.795844-06:00","closed_at":"2026-01-20T17:36:42.795844-06:00","close_reason":"Closed"}
{"id":"evodb-bpe","title":"TDD: Enable vitest coverage collection","description":"All coverage reports show 0%. Add coverage config to vitest.config.ts with provider v8, thresholds 80%.","status":"closed","priority":1,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-20T13:09:29.392485-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-20T16:23:39.429131-06:00","closed_at":"2026-01-20T16:23:39.429131-06:00","close_reason":"Closed","external_ref":"gh-44"}
{"id":"evodb-bqv","title":"TDD: Add cache-aware query planning","status":"closed","priority":3,"issue_type":"feature","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-20T14:00:00.982586-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-20T16:54:57.749539-06:00","closed_at":"2026-01-20T16:54:57.749539-06:00","close_reason":"Closed","external_ref":"gh-77"}
{"id":"evodb-bs5","title":"TDD: Standardize test-utils adoption","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-20T13:58:56.830178-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-20T16:49:22.269878-06:00","closed_at":"2026-01-20T16:49:22.269878-06:00","close_reason":"Closed"}
{"id":"evodb-cl1","title":"TDD: Standardize error handling with typed exceptions","description":"Create QueryError, TimeoutError, ValidationError classes. Replace plain Error throws with typed exceptions.","status":"closed","priority":1,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-20T13:09:05.267982-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-20T13:19:33.023012-06:00","closed_at":"2026-01-20T13:19:33.023012-06:00","close_reason":"Closed"}
{"id":"evodb-cpx","title":"Extract metrics.ts to optional @evodb/observability plugin","description":"## Problem\nmetrics.ts (1,283 lines, 32KB) is bundled in core but most users don't need Prometheus metrics.\n\n## TDD Approach\n1. Create @evodb/observability package\n2. Write tests for metrics functionality in new package\n3. Move metrics.ts to new package\n4. Create minimal noop metrics interface in core\n5. Verify core bundle reduction\n\n## Expected Impact\n- 32KB reduction from core bundle\n- Users opt-in to metrics when needed\n\n## Implementation\n- Create @evodb/observability/metrics entry point\n- Core exports MetricsRegistry interface only\n- Plugin provides full Prometheus implementation","status":"closed","priority":1,"issue_type":"feature","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-21T12:03:20.174817-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-21T12:22:06.595223-06:00","closed_at":"2026-01-21T12:22:06.595223-06:00","close_reason":"Closed"}
{"id":"evodb-cxq","title":"TDD: Add query cancellation support","status":"closed","priority":3,"issue_type":"feature","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-20T13:59:55.517685-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-20T16:54:57.791401-06:00","closed_at":"2026-01-20T16:54:57.791401-06:00","close_reason":"Closed"}
{"id":"evodb-d0x","title":"Fix array spread in sortRows() - use in-place sort","description":"## Problem\nsortRows() in query-ops.ts:458 uses [...rows].sort() which creates a full copy of the array before sorting.\n\n## TDD Approach\n1. Write benchmark test comparing current vs in-place sort\n2. Implement in-place sort or index-based non-destructive sort\n3. Verify correctness with existing tests\n4. Verify memory reduction\n\n## Expected Impact\n- 50% memory reduction during sort operations\n- Faster sort for large datasets\n\n## Current Code (query-ops.ts:458-484)\n```typescript\nreturn [...rows].sort((a, b) =\u003e { /* comparison */ });\n```\n\n## Fix\n```typescript\n// Option 1: In-place if mutation OK\nrows.sort((a, b) =\u003e { /* comparison */ });\nreturn rows;\n\n// Option 2: Index-based for non-destructive\nconst indices = Array.from({length: rows.length}, (_, i) =\u003e i);\nindices.sort((i, j) =\u003e compare(rows[i], rows[j]));\nreturn indices.map(i =\u003e rows[i]);\n```","status":"closed","priority":0,"issue_type":"bug","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-21T12:04:26.147247-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-21T12:09:08.874734-06:00","closed_at":"2026-01-21T12:09:08.874734-06:00","close_reason":"Closed"}
{"id":"evodb-dlp","title":"Simplify schema.ts to essential functions","description":"## Problem\nschema.ts (270+ lines) has complex serialization/migration logic that's rarely used.\n\n## TDD Approach\n1. Write tests for essential schema functions (inferSchema, compatibility check)\n2. Remove serialization/deserialization (manifest handles it)\n3. Remove migration functions\n4. Verify tests pass with simplified code\n\n## Expected Impact\n- Reduce from 270 to ~50 lines\n- ~8KB bundle reduction\n\n## Keep\n- inferSchema()\n- isSchemaCompatible()\n\n## Remove\n- Schema serialization/deserialization\n- promoteColumn(), promoteValue() migrations\n- Complex type promotion logic","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-21T12:03:26.685215-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-21T12:36:48.869292-06:00","closed_at":"2026-01-21T12:36:48.869292-06:00","close_reason":"Closed"}
{"id":"evodb-doh","title":"TDD: Add benchmark package tests (10% coverage)","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-20T13:58:36.261694-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-20T16:49:22.386056-06:00","closed_at":"2026-01-20T16:49:22.386056-06:00","close_reason":"Closed"}
{"id":"evodb-dp3","title":"TDD: Add fuzz testing for binary data","status":"closed","priority":2,"issue_type":"feature","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-20T13:59:00.898936-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-20T16:49:22.242074-06:00","closed_at":"2026-01-20T16:49:22.242074-06:00","close_reason":"Closed"}
{"id":"evodb-dxq","title":"Simplify manifest.ts from 968 to ~300 lines","description":"## Problem\nmanifest.ts (968 lines) has excessive abstraction for JSON manipulation. Half the functions are object constructors.\n\n## TDD Approach\n1. Identify essential manifest functions\n2. Inline simple object construction\n3. Remove builder pattern abstractions\n4. Verify manifest operations still work\n\n## Expected Impact\n- ~670 lines removed\n- ~15KB bundle reduction\n\n## Keep Essential\n- createTable()\n- appendSnapshot()\n- pruneFiles()\n- getSnapshotFiles()\n- findSnapshotAsOf()\n\n## Remove/Inline\n- 20+ helper functions that just construct objects\n- Builder patterns\n- Intermediate abstractions","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-21T12:05:37.752546-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-21T13:12:44.488625-06:00","closed_at":"2026-01-21T13:12:44.488625-06:00","close_reason":"Closed"}
{"id":"evodb-ebu","title":"TDD: Fix WebSocket null state race conditions","status":"closed","priority":0,"issue_type":"bug","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-20T17:09:09.494944-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-20T17:27:33.868243-06:00","closed_at":"2026-01-20T17:27:33.868243-06:00","close_reason":"Closed"}
{"id":"evodb-egf","title":"TDD: Consolidate query engine duplication","description":"@evodb/query and @evodb/reader both implement query engines. Extract shared logic to common module.","status":"closed","priority":1,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-20T13:09:19.001445-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-20T13:18:45.238135-06:00","closed_at":"2026-01-20T13:18:45.238135-06:00","close_reason":"Query engine duplication already consolidated. Both @evodb/query and @evodb/reader use shared query operations from @evodb/core (evaluateFilter, sortRows, computeAggregations) and implement the unified QueryExecutor interface. All tests pass."}
{"id":"evodb-ehg","title":"TDD: Implement UPDATE/DELETE operations","description":"EvoDB facade only has INSERT. Add update() and delete() methods with proper CDC integration.","status":"closed","priority":2,"issue_type":"feature","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-20T13:09:56.314485-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-20T13:31:56.976806-06:00","closed_at":"2026-01-20T13:31:56.976806-06:00","close_reason":"Closed"}
{"id":"evodb-fz2","title":"TDD: Add debugging guide doc","status":"closed","priority":3,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-20T13:59:50.627854-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-20T16:54:57.848844-06:00","closed_at":"2026-01-20T16:54:57.848844-06:00","close_reason":"Closed"}
{"id":"evodb-hd9","title":"TDD: Add architecture overview doc","status":"closed","priority":3,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-20T13:59:38.457227-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-20T16:54:57.955054-06:00","closed_at":"2026-01-20T16:54:57.955054-06:00","close_reason":"Closed","external_ref":"gh-83"}
{"id":"evodb-hyt","title":"P1 Architecture: Scalability \u0026 Design","description":"Epic for P1 architectural issues: writer sharding, strategy pattern completion, type unification, and memory leak fixes.","status":"closed","priority":1,"issue_type":"epic","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-20T10:27:42.264128-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-20T11:05:24.223998-06:00","closed_at":"2026-01-20T11:05:24.223998-06:00","close_reason":"Closed"}
{"id":"evodb-hyt.1","title":"Implement writer DO sharding for horizontal scaling","description":"All CDC streams funnel through a single Parent DO, creating a bottleneck at scale.\n\nImplement hash-based writer sharding:\n- Hash(tenant/table) -\u003e Writer DO Shard N -\u003e R2\n- Partition assignment logic\n- Shard discovery for readers\n\nThis is critical for scaling beyond single-DO throughput.","status":"closed","priority":1,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-20T10:28:57.444008-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-20T10:43:33.670077-06:00","closed_at":"2026-01-20T10:43:33.670077-06:00","close_reason":"Closed","dependencies":[{"issue_id":"evodb-hyt.1","depends_on_id":"evodb-hyt","type":"parent-child","created_at":"2026-01-20T10:28:57.444546-06:00","created_by":"Nathan Clevenger"}]}
{"id":"evodb-hyt.2","title":"Complete strategy pattern migration in writer","description":"LakehouseWriter maintains BOTH legacy components AND strategy implementations:\n- bufferStrategy + buffer (duplicate)\n- blockWriter + r2Writer (duplicate)\n- compactionStrategy + compactor (duplicate)\n\nBoth must be kept in sync (line 296-297). Remove legacy components, complete migration to strategy pattern.","status":"closed","priority":1,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-20T10:29:04.648686-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-20T10:39:27.679335-06:00","closed_at":"2026-01-20T10:39:27.679335-06:00","close_reason":"Closed","dependencies":[{"issue_id":"evodb-hyt.2","depends_on_id":"evodb-hyt","type":"parent-child","created_at":"2026-01-20T10:29:04.649266-06:00","created_by":"Nathan Clevenger"}]}
{"id":"evodb-hyt.3","title":"Unify type definitions across packages","description":"Schema and WalEntry are defined differently across packages:\n\nCore Schema: { id, version, parentVersion, columns }\nLakehouse Schema: { schemaId, version, columns, createdAt }\n\nRPC WalEntry: { sequence: number, timestamp: number, operation }\nCore WalEntry: { lsn: bigint, timestamp: bigint, op }\n\nCreate single source of truth for these types.","status":"closed","priority":1,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-20T10:29:09.739484-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-20T10:50:19.923324-06:00","closed_at":"2026-01-20T10:50:19.923324-06:00","close_reason":"Closed","dependencies":[{"issue_id":"evodb-hyt.3","depends_on_id":"evodb-hyt","type":"parent-child","created_at":"2026-01-20T10:29:09.740111-06:00","created_by":"Nathan Clevenger"}]}
{"id":"evodb-hyt.4","title":"Fix memory leak in edge-cache access pattern tracking","description":"In edge-cache/src/cache-aware-planner.ts, access pattern tracking is unbounded and can grow indefinitely.\n\nAdd LRU eviction or time-based cleanup to prevent memory exhaustion under sustained load.","status":"closed","priority":1,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-20T10:29:13.275023-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-20T10:45:07.940607-06:00","closed_at":"2026-01-20T10:45:07.940607-06:00","close_reason":"Closed","dependencies":[{"issue_id":"evodb-hyt.4","depends_on_id":"evodb-hyt","type":"parent-child","created_at":"2026-01-20T10:29:13.275548-06:00","created_by":"Nathan Clevenger"}]}
{"id":"evodb-hyt.5","title":"Fix unbounded allocation from untrusted headers in snippets-lance","description":"In snippets-lance, lookup table allocation uses sizes from file headers without validation.\n\nA malicious or corrupted file could cause OOM by specifying huge allocation sizes.\n\nAdd bounds checking before allocation.","status":"closed","priority":1,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-20T10:29:17.281398-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-20T10:57:48.388813-06:00","closed_at":"2026-01-20T10:57:48.388813-06:00","close_reason":"Closed","dependencies":[{"issue_id":"evodb-hyt.5","depends_on_id":"evodb-hyt","type":"parent-child","created_at":"2026-01-20T10:29:17.282032-06:00","created_by":"Nathan Clevenger"}]}
{"id":"evodb-hyt.6","title":"Add missing error propagation in edge-cache background prefetch","description":"Background prefetch errors in edge-cache are silently swallowed.\n\nAdd proper error logging/propagation so prefetch failures are visible for debugging.","status":"closed","priority":1,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-20T10:29:20.96063-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-20T10:46:31.522859-06:00","closed_at":"2026-01-20T10:46:31.522859-06:00","close_reason":"Closed","dependencies":[{"issue_id":"evodb-hyt.6","depends_on_id":"evodb-hyt","type":"parent-child","created_at":"2026-01-20T10:29:20.962733-06:00","created_by":"Nathan Clevenger"}]}
{"id":"evodb-hyt.7","title":"Fix non-null assertion abuse in snippets-lance","description":"Multiple non-null assertions (!) in production code that could cause runtime errors:\n- snippets-vector-search.ts line 339: this.partitionMeta![partitionId]\n- cached-lance-reader.ts: various metadata accesses\n\nReplace with proper null checks or early returns.","status":"closed","priority":1,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-20T10:29:24.554455-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-20T11:04:37.875517-06:00","closed_at":"2026-01-20T11:04:37.875517-06:00","close_reason":"Closed","dependencies":[{"issue_id":"evodb-hyt.7","depends_on_id":"evodb-hyt","type":"parent-child","created_at":"2026-01-20T10:29:24.555439-06:00","created_by":"Nathan Clevenger"}]}
{"id":"evodb-i8h","title":"TDD: Add runtime validation for JSON parsing","description":"reader/src/index.ts:132 - JSON.parse without validation. Add schema validation with type guards.","status":"closed","priority":1,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-20T13:09:42.607913-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-20T13:25:27.658705-06:00","closed_at":"2026-01-20T13:25:27.658705-06:00","close_reason":"Closed"}
{"id":"evodb-imj","title":"RLE/Delta decode count bounds validation","description":"TDD: RLE and Delta decoders don't validate count parameter bounds. Add bounds checking to prevent buffer overflows when decoding malformed data.","status":"closed","priority":0,"issue_type":"bug","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-20T18:17:57.733816-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-20T18:24:13.592748-06:00","closed_at":"2026-01-20T18:24:13.592751-06:00"}
{"id":"evodb-irq","title":"TDD: Add memory limit guards to query engine","status":"closed","priority":0,"issue_type":"bug","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-20T17:09:05.970797-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-20T17:27:33.77839-06:00","closed_at":"2026-01-20T17:27:33.77839-06:00","close_reason":"Closed"}
{"id":"evodb-ivh","title":"Use fast path for ASCII string comparison","description":"## Problem\nString comparison uses localeCompare() which is ~10x slower than \u003c operator for ASCII strings.\n\n## TDD Approach\n1. Write benchmark comparing localeCompare vs \u003c operator\n2. Add fast path for ASCII-only strings\n3. Fall back to localeCompare for unicode\n4. Verify correctness\n\n## Expected Impact\n- Faster string sorts for ASCII data (most common case)\n\n## Current Code (query-ops.ts:292-293)\n```typescript\nif (typeof a === 'string' \u0026\u0026 typeof b === 'string') {\n  return a.localeCompare(b);\n}\n```\n\n## Fix\n```typescript\nfunction compareStrings(a: string, b: string): number {\n  // Fast path for ASCII\n  if (isAscii(a) \u0026\u0026 isAscii(b)) {\n    return a \u003c b ? -1 : a \u003e b ? 1 : 0;\n  }\n  return a.localeCompare(b);\n}\n```","status":"closed","priority":3,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-21T12:05:33.415745-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-21T13:01:25.80354-06:00","closed_at":"2026-01-21T13:01:25.80354-06:00","close_reason":"Closed"}
{"id":"evodb-j6x","title":"TDD: Normalize Query type names across packages","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-20T13:59:08.827174-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-20T16:49:22.184889-06:00","closed_at":"2026-01-20T16:49:22.184889-06:00","close_reason":"Closed","external_ref":"gh-84"}
{"id":"evodb-j8u","title":"TDD: Add snippets-chain tests","description":"snippets-chain package has 0 unit tests. Add comprehensive tests for scatter-gather and map-reduce patterns.","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-20T13:09:55.579472-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-20T13:19:27.267265-06:00","closed_at":"2026-01-20T13:19:27.267265-06:00","close_reason":"Package already has comprehensive tests: 255 tests across 6 test files (executor.test.ts, chain-builder.test.ts, scatter-gather.test.ts, map-reduce.test.ts, pipeline.test.ts, types.test.ts)"}
{"id":"evodb-j9r","title":"TDD: Add cache invalidation on block writes","status":"closed","priority":0,"issue_type":"bug","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-20T17:09:04.364282-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-20T17:49:16.661006-06:00","closed_at":"2026-01-20T17:49:16.661006-06:00","close_reason":"Closed","external_ref":"gh-118"}
{"id":"evodb-jc1","title":"TDD: Use monotonic time in circuit breaker","status":"closed","priority":1,"issue_type":"bug","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-20T17:09:27.370756-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-20T17:36:42.851414-06:00","closed_at":"2026-01-20T17:36:42.851414-06:00","close_reason":"Closed"}
{"id":"evodb-jo7","title":"Fix merge column concatenation - pre-allocate buffers","description":"## Problem\nmerge.ts:140-142 uses spread operators that create intermediate arrays during column merging.\n\n## TDD Approach\n1. Write benchmark test for merge performance\n2. Pre-allocate target arrays based on total size\n3. Use direct copy instead of spread\n4. Verify memory reduction\n\n## Expected Impact\n- 3x to 1.2x memory reduction during compaction\n- Faster merge operations\n\n## Current Code (merge.ts:140-142)\n```typescript\nvalues.push(...col.values);\nnulls.push(...col.nulls);\n```\n\n## Fix\n```typescript\nconst totalRows = columns.reduce((sum, c) =\u003e sum + c.values.length, 0);\nconst values = new Array(totalRows);\nlet offset = 0;\nfor (const col of columns) {\n  for (let i = 0; i \u003c col.values.length; i++) {\n    values[offset + i] = col.values[i];\n  }\n  offset += col.values.length;\n}\n```","status":"closed","priority":0,"issue_type":"bug","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-21T12:04:29.346655-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-21T12:09:17.110612-06:00","closed_at":"2026-01-21T12:09:17.110612-06:00","close_reason":"Closed"}
{"id":"evodb-kwk","title":"TDD: Fix swallowed cache exceptions","description":"reader/src/cache.ts:77-91 - Silent failures hide legitimate errors. Add error logging, distinguish error types.","status":"closed","priority":0,"issue_type":"bug","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-20T13:08:52.033012-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-20T13:11:35.053923-06:00","closed_at":"2026-01-20T13:11:35.053923-06:00","close_reason":"Closed"}
{"id":"evodb-ldi","title":"Build and use path index for multi-column operations","description":"## Problem\nextractPath() in shred.ts:492 uses linear search through columns. Called N times for N-column projection.\n\n## TDD Approach\n1. Write benchmark for multi-column projection\n2. Always build path index for operations with \u003e1 column\n3. Use index in extractPath() and related functions\n4. Verify performance improvement\n\n## Expected Impact\n- O(1) instead of O(n) column lookup\n- Significant speedup for wide tables\n\n## Current Code (shred.ts:492-505)\n```typescript\nconst col = columns.find(c =\u003e c.path === path);  // O(n)\n```\n\n## Fix\n```typescript\nconst pathIndex = buildPathIndex(columns);  // Already exists!\nconst col = pathIndex.get(path);  // O(1)\n```","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-21T12:05:29.440805-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-21T12:29:41.160277-06:00","closed_at":"2026-01-21T12:29:41.160277-06:00","close_reason":"Closed"}
{"id":"evodb-lln","title":"TDD: Fix 4 skipped critical tests","description":"Re-enable: time-travel queries, snapshot restore, auto compaction, concurrent writes with optimistic locking.","status":"closed","priority":1,"issue_type":"bug","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-20T13:09:30.324005-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-20T16:23:39.40034-06:00","closed_at":"2026-01-20T16:23:39.40034-06:00","close_reason":"Closed","external_ref":"gh-51"}
{"id":"evodb-lpv","title":"P0 Critical: Foundation \u0026 Safety","description":"Epic for P0 critical issues blocking MVP: missing tests, facade class, mock data removal, and type safety fixes. These must be resolved before any release.","status":"closed","priority":0,"issue_type":"epic","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-20T10:27:30.503365-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-20T11:05:24.199243-06:00","closed_at":"2026-01-20T11:05:24.199243-06:00","close_reason":"Closed"}
{"id":"evodb-lpv.1","title":"TDD: Add tests for snippets-chain package","description":"snippets-chain has 9 source files with 0 tests. Critical gap - complex orchestration logic (ChainBuilder, ChainExecutor) completely untested.\n\nFiles needing tests:\n- chain-builder.ts (16KB) - fluent API with validation\n- executor.ts (19KB) - parallel execution, timeouts, resource tracking\n- patterns/ - map-reduce, pipeline, scatter-gather\n\nWrite tests using TDD red-green-refactor approach.","status":"closed","priority":0,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-20T10:28:14.835501-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-20T10:46:10.787287-06:00","closed_at":"2026-01-20T10:46:10.787287-06:00","close_reason":"Closed","dependencies":[{"issue_id":"evodb-lpv.1","depends_on_id":"evodb-lpv","type":"parent-child","created_at":"2026-01-20T10:28:14.836131-06:00","created_by":"Nathan Clevenger"}]}
{"id":"evodb-lpv.2","title":"Create EvoDB facade class matching README API","description":"The README shows an API that doesn't exist:\n- new EvoDB({ mode, storage })\n- db.insert('users', {...})\n- db.query('users').where(...).select(...)\n- db.schema.lock()\n- db.schema.relate()\n- db.schema.enforce()\n\nCreate the actual EvoDB class in @evodb/core that wraps existing primitives and provides this high-level API.","status":"closed","priority":0,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-20T10:28:18.567637-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-20T11:06:37.645461-06:00","closed_at":"2026-01-20T11:06:37.645461-06:00","close_reason":"Closed","external_ref":"gh-21","dependencies":[{"issue_id":"evodb-lpv.2","depends_on_id":"evodb-lpv","type":"parent-child","created_at":"2026-01-20T10:28:18.568201-06:00","created_by":"Nathan Clevenger"}]}
{"id":"evodb-lpv.3","title":"Remove mock data from query engine","description":"Query engine (query/src/engine.ts lines 1131-1355) contains heavy mock data initialization with initializeMockData() generating fake users, orders, events.\n\nThe parseColumnarData method acknowledges 'In a real implementation, this would parse the columnar format' and returns mock data.\n\nRemove all mock data and connect to actual R2 columnar blocks.","status":"closed","priority":0,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-20T10:28:22.008557-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-20T10:57:23.555924-06:00","closed_at":"2026-01-20T10:57:23.555924-06:00","close_reason":"Removed mock data from QueryEngine by implementing TableDataSource abstraction pattern. MockDataSource now contains all test data, while R2DataSource provides the integration point for production R2 bucket access.","dependencies":[{"issue_id":"evodb-lpv.3","depends_on_id":"evodb-lpv","type":"parent-child","created_at":"2026-01-20T10:28:22.009159-06:00","created_by":"Nathan Clevenger"}]}
{"id":"evodb-lpv.4","title":"Fix BigInt to Number precision loss in snippets-lance","description":"In snippets-lance/src/cached-lance-reader.ts, BigInt values are converted to Number for file offsets, causing precision loss for large files (\u003e2^53 bytes).\n\nThis can cause data corruption or incorrect reads for large vector indices.\n\nFix by keeping BigInt throughout the read path or using safe conversion with bounds checking.","status":"closed","priority":0,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-20T10:28:25.006065-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-20T10:51:21.434359-06:00","closed_at":"2026-01-20T10:51:21.434359-06:00","close_reason":"Closed","dependencies":[{"issue_id":"evodb-lpv.4","depends_on_id":"evodb-lpv","type":"parent-child","created_at":"2026-01-20T10:28:25.006739-06:00","created_by":"Nathan Clevenger"}]}
{"id":"evodb-lpv.5","title":"Fix potential SQL injection in query engine","description":"In query/src/engine.ts, if column names come from user input, there's potential for SQL-like injection attacks.\n\nReview all places where column names are used in query construction and add proper validation/escaping.","status":"closed","priority":0,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-20T10:28:28.891416-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-20T10:43:42.971491-06:00","closed_at":"2026-01-20T10:43:42.971491-06:00","close_reason":"Closed","dependencies":[{"issue_id":"evodb-lpv.5","depends_on_id":"evodb-lpv","type":"parent-child","created_at":"2026-01-20T10:28:28.892002-06:00","created_by":"Nathan Clevenger"}]}
{"id":"evodb-mcw","title":"TDD: Fix BigInt initialization logic in buffer.ts","status":"closed","priority":0,"issue_type":"bug","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-20T13:57:14.328174-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-20T14:02:14.174688-06:00","closed_at":"2026-01-20T14:02:14.174688-06:00","close_reason":"Closed"}
{"id":"evodb-mdl","title":"Extract tracing.ts to optional @evodb/observability plugin","description":"## Problem\ntracing.ts (807 lines, ~15KB) implements full OpenTelemetry support but most embedded DB users don't need it.\n\n## TDD Approach\n1. Write tests for tracing in @evodb/observability\n2. Move tracing.ts to observability package\n3. Create noop tracing interface in core\n4. Verify core bundle reduction\n\n## Expected Impact\n- ~15KB reduction from core bundle\n\n## Implementation\n- @evodb/observability/tracing entry point\n- Core keeps minimal TracingContext interface\n- Plugin provides full OTEL implementation","status":"closed","priority":1,"issue_type":"feature","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-21T12:03:21.857486-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-21T12:29:01.64951-06:00","closed_at":"2026-01-21T12:29:01.64951-06:00","close_reason":"Closed","dependencies":[{"issue_id":"evodb-mdl","depends_on_id":"evodb-cpx","type":"blocks","created_at":"2026-01-21T12:05:47.197457-06:00","created_by":"Nathan Clevenger"}]}
{"id":"evodb-mjk","title":"TDD: Standardize tsconfig across packages","description":"e2e package missing strict flags. Create tsconfig.base.json and have all packages extend it.","status":"closed","priority":1,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-20T13:09:44.437296-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-20T16:23:39.340916-06:00","closed_at":"2026-01-20T16:23:39.340916-06:00","close_reason":"Closed","external_ref":"gh-52"}
{"id":"evodb-o0v","title":"TDD: Auto-select Reader vs Query engine","status":"closed","priority":1,"issue_type":"feature","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-20T13:57:42.242082-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-20T14:25:33.186245-06:00","closed_at":"2026-01-20T14:25:33.186245-06:00","close_reason":"Closed"}
{"id":"evodb-ocx","title":"TDD: Add getting-started documentation","status":"closed","priority":3,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-20T13:59:33.234699-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-20T16:54:57.99421-06:00","closed_at":"2026-01-20T16:54:57.99421-06:00","close_reason":"Closed"}
{"id":"evodb-ofu","title":"TDD: Fix SQL injection in table name interpolation","description":"core/src/storage.ts:13 - Table name interpolated without validation. Add whitelist validation or parameterization.","status":"closed","priority":1,"issue_type":"bug","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-20T13:09:06.69743-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-20T13:24:19.068733-06:00","closed_at":"2026-01-20T13:24:19.068733-06:00","close_reason":"Closed"}
{"id":"evodb-pyo","title":"TDD: Consolidate 4 storage abstractions","status":"closed","priority":1,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-20T13:57:38.116683-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-20T14:13:17.843019-06:00","closed_at":"2026-01-20T14:13:17.843019-06:00","close_reason":"Closed"}
{"id":"evodb-qaq","title":"Implement single-pass aggregation","description":"## Problem\nEach aggregation function iterates the entire row set independently. 3 aggregations on 100K rows = 300K iterations.\n\n## TDD Approach\n1. Write benchmark for multi-aggregate queries\n2. Implement aggregator state pattern\n3. Single pass updates all aggregators\n4. Verify correctness and performance\n\n## Expected Impact\n- 60-70% reduction in aggregation latency\n- Linear scaling with row count, not row × aggregate count\n\n## Current Code (query-ops.ts:511-673)\n```typescript\ncase 'countDistinct': {\n  for (const row of rows) { /* full iteration */ }\n}\ncase 'sum': {\n  for (const row of rows) { /* another full iteration */ }\n}\n```\n\n## Fix\n```typescript\nconst aggregators = aggregates.map(spec =\u003e createAggregator(spec));\n\nfor (const row of rows) {\n  for (const agg of aggregators) {\n    agg.update(getVal(row));\n  }\n}\n\nreturn aggregators.map(agg =\u003e agg.finalize());\n```","status":"closed","priority":1,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-21T12:04:45.712651-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-21T12:17:58.981385-06:00","closed_at":"2026-01-21T12:17:58.981385-06:00","close_reason":"Closed"}
{"id":"evodb-qmt","title":"TDD: Add codegen package tests (24% coverage)","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-20T13:58:46.903693-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-20T16:49:22.328197-06:00","closed_at":"2026-01-20T16:49:22.328197-06:00","close_reason":"Closed","external_ref":"gh-89"}
{"id":"evodb-qp6","title":"TDD: Optimize null bitmap for sparse data","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-20T17:10:05.445643-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-20T17:48:04.603-06:00","closed_at":"2026-01-20T17:48:04.603-06:00","close_reason":"Closed"}
{"id":"evodb-qpi","title":"TDD: Add getRange bounds validation","status":"closed","priority":2,"issue_type":"bug","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-20T17:10:04.308613-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-20T17:48:04.576192-06:00","closed_at":"2026-01-20T17:48:04.576192-06:00","close_reason":"Closed"}
{"id":"evodb-r00","title":"TDD: Fix ArrayBuffer offset calculations in storage","status":"closed","priority":1,"issue_type":"bug","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-20T17:09:25.604272-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-20T17:36:42.824427-06:00","closed_at":"2026-01-20T17:36:42.824427-06:00","close_reason":"Closed"}
{"id":"evodb-r1h","title":"TDD: Add error path tests","description":"Only 21 error tests. Add tests for: corrupt blocks, R2 failures, memory constraints, concurrent write conflicts.","status":"closed","priority":1,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-20T13:09:31.941132-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-20T13:41:10.239006-06:00","closed_at":"2026-01-20T13:41:10.239006-06:00","close_reason":"Closed"}
{"id":"evodb-r7t","title":"Unbounded Writer block index growth","description":"TDD: Writer accumulates block indices without bounds. Add configurable limit and eviction strategy to prevent OOM.","status":"closed","priority":0,"issue_type":"bug","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-20T18:17:59.93461-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-20T18:23:32.264479-06:00","closed_at":"2026-01-20T18:23:32.264482-06:00"}
{"id":"evodb-rjd","title":"TDD: Fix BigInt parsing error handling","description":"core/src/storage.ts:124 - BigInt(NaN) will throw. Add try-catch or validate radix conversion before BigInt.","status":"closed","priority":0,"issue_type":"bug","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-20T13:08:51.015926-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-20T13:11:46.747778-06:00","closed_at":"2026-01-20T13:11:46.747778-06:00","close_reason":"Closed"}
{"id":"evodb-rkg","title":"TDD: Add block size validation limits","status":"closed","priority":1,"issue_type":"bug","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-20T17:09:34.935502-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-20T17:49:16.671577-06:00","closed_at":"2026-01-20T17:49:16.671577-06:00","close_reason":"Closed","external_ref":"gh-123"}
{"id":"evodb-s40","title":"TDD: Re-enable 4 skipped critical tests","status":"closed","priority":1,"issue_type":"bug","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-20T13:57:44.646631-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-20T16:55:12.072381-06:00","closed_at":"2026-01-20T16:55:12.072381-06:00","close_reason":"Closed","external_ref":"gh-90"}
{"id":"evodb-son","title":"TDD: Add distributed tracing with OpenTelemetry","status":"closed","priority":2,"issue_type":"feature","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-20T17:09:57.839461-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-20T17:48:04.445284-06:00","closed_at":"2026-01-20T17:48:04.445284-06:00","close_reason":"Closed"}
{"id":"evodb-sp9","title":"TDD: Add chaos tests for partial failures","status":"closed","priority":2,"issue_type":"feature","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-20T13:59:05.451792-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-20T16:49:22.213788-06:00","closed_at":"2026-01-20T16:49:22.213788-06:00","close_reason":"Closed","external_ref":"gh-91"}
{"id":"evodb-t5q","title":"Consolidate error classes to 3-4 types","description":"## Problem\n10+ error classes extend EvoDBError but code paths never distinguish between types.\n\n## TDD Approach\n1. Audit error usage across codebase\n2. Consolidate to essential types: DatabaseError, QueryError, ValidationError, TimeoutError\n3. Remove captureStackTrace() complexity\n4. Verify error handling still works\n\n## Expected Impact\n- ~8KB bundle reduction\n- Simpler error handling\n\n## Current (10+ classes)\nQueryError, TimeoutError, ValidationError, StorageError, EncodingError, BlockFormatError, ManifestError, etc.\n\n## Target (3-4 classes)\n- EvoDBError (base)\n- QueryError (query issues)\n- ValidationError (schema/input issues)\n- TimeoutError (timing issues)","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-21T12:05:36.928792-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-21T12:37:18.562466-06:00","closed_at":"2026-01-21T12:37:18.562466-06:00","close_reason":"Closed"}
{"id":"evodb-tft","title":"TDD: Fix SQL interpolation with quoted identifiers","status":"closed","priority":1,"issue_type":"bug","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-20T17:09:29.245919-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-20T17:36:42.880402-06:00","closed_at":"2026-01-20T17:36:42.880402-06:00","close_reason":"Closed"}
{"id":"evodb-v38","title":"P3 Polish: Developer Experience","description":"Epic for P3 nice-to-have improvements: console logging cleanup, documentation, and minor type improvements.","status":"closed","priority":3,"issue_type":"epic","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-20T10:27:48.995-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-20T11:05:24.273731-06:00","closed_at":"2026-01-20T11:05:24.273731-06:00","close_reason":"Closed"}
{"id":"evodb-v38.1","title":"Remove console.log from library code","description":"edge-cache has console logging in library code.\n\nRemove or replace with proper logging interface that can be configured/disabled.","status":"closed","priority":3,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-20T10:30:50.455873-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-20T10:41:07.903495-06:00","closed_at":"2026-01-20T10:41:07.903495-06:00","close_reason":"Closed","dependencies":[{"issue_id":"evodb-v38.1","depends_on_id":"evodb-v38","type":"parent-child","created_at":"2026-01-20T10:30:50.456498-06:00","created_by":"Nathan Clevenger"}]}
{"id":"evodb-v38.2","title":"Fix cross-package relative imports in codegen","description":"Codegen has cross-package relative imports that could break if package structure changes.\n\nUse proper workspace imports instead.","status":"closed","priority":3,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-20T10:30:55.022532-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-20T10:37:07.746832-06:00","closed_at":"2026-01-20T10:37:07.746832-06:00","close_reason":"Closed","dependencies":[{"issue_id":"evodb-v38.2","depends_on_id":"evodb-v38","type":"parent-child","created_at":"2026-01-20T10:30:55.023329-06:00","created_by":"Nathan Clevenger"}]}
{"id":"evodb-v38.3","title":"Fix production any type in ONet loader","description":"benchmark/src/datasets/onet/loader.ts line 474:\ntype: oiRating['Element Name'] as any\n\nDefine proper union type for Element Name values instead of using any.","status":"closed","priority":3,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-20T10:30:58.692133-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-20T10:36:58.139491-06:00","closed_at":"2026-01-20T10:36:58.139491-06:00","close_reason":"Closed","dependencies":[{"issue_id":"evodb-v38.3","depends_on_id":"evodb-v38","type":"parent-child","created_at":"2026-01-20T10:30:58.692772-06:00","created_by":"Nathan Clevenger"}]}
{"id":"evodb-v38.4","title":"Replace test file any types with proper mock types","description":"Multiple test files use any for mocking (writer.test.ts, compactor.test.ts, query-engine.test.ts).\n\nCreate proper mock types for better type safety in tests.","status":"closed","priority":3,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-20T10:31:02.115563-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-20T10:47:47.832622-06:00","closed_at":"2026-01-20T10:47:47.832622-06:00","close_reason":"Closed","dependencies":[{"issue_id":"evodb-v38.4","depends_on_id":"evodb-v38","type":"parent-child","created_at":"2026-01-20T10:31:02.116139-06:00","created_by":"Nathan Clevenger"}]}
{"id":"evodb-v38.5","title":"Add JSDoc to complex types in query/types.ts","description":"ZoneMapColumn and other complex types in query/src/types.ts lack documentation.\n\nAdd JSDoc comments explaining purpose and usage.","status":"closed","priority":3,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-20T10:31:05.498025-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-20T11:06:37.649661-06:00","closed_at":"2026-01-20T11:06:37.649661-06:00","close_reason":"Closed","external_ref":"gh-30","dependencies":[{"issue_id":"evodb-v38.5","depends_on_id":"evodb-v38","type":"parent-child","created_at":"2026-01-20T10:31:05.500893-06:00","created_by":"Nathan Clevenger"}]}
{"id":"evodb-v38.6","title":"Add explicit strict flags to all tsconfig.json","description":"Some packages use only strict: true without explicit flags (noImplicitAny, strictNullChecks, etc).\n\nAdd explicit flags for consistency and clarity across all packages.","status":"closed","priority":3,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-20T10:31:09.184885-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-20T11:06:37.648378-06:00","closed_at":"2026-01-20T11:06:37.648378-06:00","close_reason":"Closed","external_ref":"gh-31","dependencies":[{"issue_id":"evodb-v38.6","depends_on_id":"evodb-v38","type":"parent-child","created_at":"2026-01-20T10:31:09.185486-06:00","created_by":"Nathan Clevenger"}]}
{"id":"evodb-v3l","title":"Consolidate storage interface fragmentation","description":"TDD: 3+ overlapping storage interfaces exist. Consolidate into unified StorageProvider interface with clear contracts.","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-20T18:18:07.517947-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-20T18:39:03.163565-06:00","closed_at":"2026-01-20T18:39:03.163568-06:00"}
{"id":"evodb-v7p","title":"TDD: Fix test any assertions in snippets-chain","status":"closed","priority":1,"issue_type":"bug","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-20T13:57:59.679162-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-20T16:55:11.981094-06:00","closed_at":"2026-01-20T16:55:11.981094-06:00","close_reason":"Closed","external_ref":"gh-92"}
{"id":"evodb-vnv","title":"TDD: Implement RPC deduplication","description":"RPC deduplication is stubbed - data loss risk. Implement proper deduplication with sliding window.","status":"closed","priority":2,"issue_type":"bug","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-20T13:09:53.53576-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-20T13:24:21.504891-06:00","closed_at":"2026-01-20T13:24:21.504891-06:00","close_reason":"Closed"}
{"id":"evodb-vss","title":"TDD: Add column name validation in filter predicates","status":"closed","priority":2,"issue_type":"bug","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-20T17:10:02.922049-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-20T17:48:04.550536-06:00","closed_at":"2026-01-20T17:48:04.550536-06:00","close_reason":"Closed"}
{"id":"evodb-wjr","title":"TDD: Split monolithic test files","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-20T13:58:51.462066-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-20T16:49:22.299212-06:00","closed_at":"2026-01-20T16:49:22.299212-06:00","close_reason":"Closed"}
{"id":"evodb-woi","title":"TDD: Add max recursion depth to shred walk()","status":"closed","priority":2,"issue_type":"bug","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-20T17:09:59.029319-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-20T17:49:16.678501-06:00","closed_at":"2026-01-20T17:49:16.678501-06:00","close_reason":"Closed","external_ref":"gh-127"}
{"id":"evodb-wqa","title":"Reuse TextEncoder instead of creating in loop","description":"## Problem\nTextEncoder is created inside encoding loop, losing cache benefits and adding constructor overhead.\n\n## TDD Approach\n1. Write benchmark for string encoding\n2. Move TextEncoder to outer scope\n3. Pass encoder to encoding functions\n4. Verify performance improvement\n\n## Expected Impact\n- Reduced constructor overhead\n- Better UTF-8 conversion cache utilization\n\n## Current Code (encode.ts:752-773)\n```typescript\nfunction encodeValue(...) {\n  const encoder = new TextEncoder();  // Created in loop\n  const e = encoder.encode(v as string);\n}\n```\n\n## Fix\n```typescript\nconst encoder = new TextEncoder();  // Module level\n\nexport function encodePlain(col: Column): Uint8Array {\n  for (const v of col.values) {\n    chunks.push(encodeValue(v, col.type, encoder));\n  }\n}\n```","status":"closed","priority":2,"issue_type":"bug","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-21T12:04:49.145334-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-21T12:28:35.063875-06:00","closed_at":"2026-01-21T12:28:35.063875-06:00","close_reason":"Closed"}
{"id":"evodb-wvz","title":"Optimize string intern pool LRU cache hit handling","description":"## Problem\nString intern pool uses delete() + set() for LRU which is O(2) when move-to-end could be O(1).\n\n## TDD Approach\n1. Benchmark current LRU implementation\n2. Implement doubly-linked list for O(1) move-to-end\n3. Verify cache behavior preserved\n4. Verify performance improvement\n\n## Expected Impact\n- Faster cache operations at high hit rates (90%+)\n\n## Current Code (string-intern-pool.ts:157-206)\n```typescript\nif (existing !== undefined) {\n  this.cache.delete(s);      // O(1)\n  this.cache.set(s, { ... }); // O(1) but unnecessary\n}\n```\n\n## Fix\nUse doubly-linked list for O(1) move-to-tail on cache hit.","status":"closed","priority":3,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-21T12:05:34.240171-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-21T13:03:17.269149-06:00","closed_at":"2026-01-21T13:03:17.269149-06:00","close_reason":"Closed"}
{"id":"evodb-xhy","title":"TDD: Replace bloom filter Map with bit arrays","status":"closed","priority":1,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-20T13:57:56.292664-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-20T14:36:48.954869-06:00","closed_at":"2026-01-20T14:36:48.954869-06:00","close_reason":"Closed"}
{"id":"evodb-yg1","title":"TDD: Add writer integration tests","description":"Writer has only 5 tests. Add 20+ integration tests for full CDC pipeline validation.","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-20T13:09:54.621544-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-20T13:32:03.177884-06:00","closed_at":"2026-01-20T13:32:03.177884-06:00","close_reason":"Closed"}
{"id":"evodb-yx1","title":"TDD: Add property-based testing with fast-check","description":"Add fast-check for generated test cases on shredding, encoding, partition calculation. Target 100+ cases per fn.","status":"closed","priority":3,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-20T13:10:10.343621-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-20T16:54:58.028729-06:00","closed_at":"2026-01-20T16:54:58.028729-06:00","close_reason":"Closed","external_ref":"gh-58"}
{"id":"evodb-yzb","title":"TDD: Add storage adapter pattern for R2","description":"R2Bucket tightly coupled throughout. Add StorageAdapter interface with R2Adapter and MockAdapter implementations.","status":"closed","priority":1,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-20T13:09:19.825991-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-20T13:17:41.85131-06:00","closed_at":"2026-01-20T13:17:41.85131-06:00","close_reason":"Closed"}
{"id":"evodb-z9g","title":"TDD: Add migration guide doc","status":"closed","priority":3,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-20T13:59:45.939697-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-20T16:54:57.905099-06:00","closed_at":"2026-01-20T16:54:57.905099-06:00","close_reason":"Closed"}
{"id":"evodb-zdo","title":"Cache error handling silent fallthrough","description":"TDD: Cache errors silently fall through without logging. Add proper error logging and metrics for cache failures.","status":"closed","priority":1,"issue_type":"bug","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-20T18:18:00.99131-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-20T18:54:46.026933-06:00","closed_at":"2026-01-20T18:54:46.026933-06:00","close_reason":"Closed","external_ref":"gh-137"}
{"id":"evodb-zeg","title":"P0: Limit vitest concurrency to prevent 50GB RAM usage","status":"closed","priority":0,"issue_type":"bug","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-20T14:37:39.368287-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-20T14:43:50.900276-06:00","closed_at":"2026-01-20T14:43:50.900276-06:00","close_reason":"Closed"}
